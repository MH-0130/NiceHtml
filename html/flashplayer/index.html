<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
    <title>AzOwata's Page - Projects</title>
    <link rel="stylesheet" type="text/css" href="../../base.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
</head>

<body>
    <header>
        <a href="../../index.html">
            <img src="../../images/icon.svg">
            <div class="header-title">AzOwata's Page</div>
        </a>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../projects/index.html">Projects</a></li>
                <li><a href="../links/index.html">Links</a></li>
                <li><a href="https://discord.gg/3M2jSCnzmN">Join our Discord!</a></li>

            </ul>
        </nav>
    </header>
    <main>
        <div class="main-box">
            <h1>Flash Player</h1>
        </div>

        <h2 id="title"></h2>
        <div id="player"></div>

        <script>
            // URLのクエリパラメータ（例: ?id=game1）を取得
            const params = new URLSearchParams(window.location.search);
            const id = params.get("id");

            const files = [
                ["Super Mario Flash ver.E", "smf1ve"],
                ["Super Mario Flash 2", "super-mario-flash-2"],
                ["Super Mario Flash 2 ver.c", "smf2vc"],
                ["Super Mario Flash 3", "SMF3"],
                ["千葉！滋賀！佐賀！", "072404"],
                ["マイアヒ", "2004100902"],
                ["ピクトさんをさがせ！１（お風呂場編）", "game0001"],
                ["ピクトさんをさがせ！２", "game0002"],
                ["ピクトさんをさがせ！３", "game0003"]
            ]


            var swfFile;
            // SWFファイル名を決定（存在しない場合はエラーメッセージ
            if (files[id][1].includes("http") && files[id][1].includes(".swf")) {
                swfFile = files[id][1];
            } else {
                swfFile = "./swf/" + files[id][1] + ".swf"
            }

            if (id < files.length) {
                // 題名を表示
                document.getElementById("title").innerText = files[id][0];

                // Ruffleのインスタンスを作成
                const ruffle = window.RufflePlayer.newest();
                const player = ruffle.createPlayer();
                document.getElementById("player").appendChild(player);

                // SWFファイルを読み込む
                player.load(swfFile);
            } else {
                document.getElementById("player").innerText = "エラー: swfファイルが存在しません。";
            }
        </script>
    </main>
</body>

</html>